window.BlazorDraggable={DragableItems:[],HandleMouseDown:function(n){this.DragableItems[n].CanMove=!0},AddEventListener:function(n,t,i){window.BlazorDraggable.DragableItems[n]={BoundToContainer:t,UseHandle:i,MouseOffsets:{Top:0,Left:0},CanMove:!1};var r=document.getElementById(n);r.addEventListener("mousedown",n=>{var t=n.currentTarget.id,i;n.buttons==1&&(i=n.currentTarget.getBoundingClientRect(),window.BlazorDraggable.DragableItems[t].MouseOffsets={Top:Math.round(i.top),Left:Math.round(i.left)},window.BlazorDraggable.DragableItems[t].MouseOffsets.Top=n.clientY-window.BlazorDraggable.DragableItems[t].MouseOffsets.Top,window.BlazorDraggable.DragableItems[t].MouseOffsets.Left=n.clientX-window.BlazorDraggable.DragableItems[t].MouseOffsets.Left,window.BlazorDraggable.DragableItems[t].UseHandle&&n.target.id!=t+"-Handle"||(window.BlazorDraggable.DragableItems[t].CanMove=!0))});r.addEventListener("mouseup",n=>{var i=n.currentTarget.id,t=n.currentTarget.getBoundingClientRect();DotNet.invokeMethodAsync("BlazorDraggable","ReturnArrayAsync",JSON.stringify({Top:Math.round(t.top),Left:Math.round(t.left)}))});r.addEventListener("mousemove",n=>{var r=n.currentTarget.id,f;if(n.buttons==1){if(!window.BlazorDraggable.DragableItems[r].CanMove)return;var t=n.clientY-window.BlazorDraggable.DragableItems[r].MouseOffsets.Top,i=n.clientX-window.BlazorDraggable.DragableItems[r].MouseOffsets.Left,u={Top:n.currentTarget.parentNode.offsetTop,Left:n.currentTarget.parentNode.offsetLeft};i-=u.Left;t-=u.Top;window.BlazorDraggable.DragableItems[r].BoundToContainer&&(i<0&&(i=0),t<0&&(t=0),i+n.currentTarget.offsetWidth>n.currentTarget.parentNode.offsetWidth&&(i=n.currentTarget.parentNode.offsetWidth-n.offsetWidth),t+n.currentTarget.offsetHeight>n.currentTarget.parentNode.offsetHeight&&(t=n.currentTarget.parentNode.offsetHeight-n.offsetHeight));f="translate3d("+i+"px, "+t+"px, 0px)";n.currentTarget.style.transform=f}else window.BlazorDraggable.DragableItems[r].CanMove=!1})}};